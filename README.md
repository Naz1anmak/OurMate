# OurMate Bot

**Ð­Ñ‚Ð¾Ñ‚ Ð±Ð¾Ñ‚ Ð¿Ñ€ÐµÐ´Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½ Ð´Ð»Ñ ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‡ÐµÑÐºÐ¸Ñ… Ñ‡Ð°Ñ‚Ð¾Ð² Ð¸ Ð»Ð¸Ñ‡Ð½Ð¾Ð³Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ. 
ÐžÐ½ Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÑÐµÑ‚ LLM-Ð°ÑÑÐ¸ÑÑ‚ÐµÐ½Ñ‚Ð°, Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ñ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸ÐµÐ¼ Ð·Ð°Ð½ÑÑ‚Ð¸Ð¹.**

---

## ðŸ“– ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ

OurMate â€” ÑÑ‚Ð¾ ÑƒÐ¼Ð½Ñ‹Ð¹ Telegramâ€‘Ð±Ð¾Ñ‚ Ð½Ð° Ð±Ð°Ð·Ðµ [aiogram](https://docs.aiogram.dev/) Ð¸ Ð²Ð½ÐµÑˆÐ½ÐµÐ¹ LLM.

ÐžÐ½ ÑƒÐ¼ÐµÐµÑ‚:
- ÐžÑ‚Ð²ÐµÑ‡Ð°Ñ‚ÑŒ Ð½Ð° ÑƒÐ¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ Ð¸ Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ñ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð¾Ð¼ Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ñ… Ð´Ð¸Ð°Ð»Ð¾Ð³Ð¾Ð² (LLM)
- Ð•Ð¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾ Ð² Ð·Ð°Ð´Ð°Ð½Ð½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒ JSON-Ñ„Ð°Ð¹Ð» Ñ Ð´Ð½ÑÐ¼Ð¸ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ Ð¸ **Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ð² Ð³Ñ€ÑƒÐ¿Ð¿Ðµ**
- ÐŸÑ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ Ð±Ð¾Ñ‚Ð° **ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÑÑ‚ÑŒ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð° Ð² Ð»Ð¸Ñ‡ÐºÑƒ** Ð¾ Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐµÐ¼ Ð´Ð½Ðµ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ
- ÐŸÐ°Ñ€ÑÐ¸Ñ‚ÑŒ `calendar*.ics`, ÐºÐµÑˆÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¸ Ð¾Ñ‚Ð´Ð°Ð²Ð°Ñ‚ÑŒ Ð¿Ð°Ñ€Ñ‹ Ð½Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ/Ð·Ð°Ð²Ñ‚Ñ€Ð° ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°Ð¼Ð¸ Ð¸Ð»Ð¸ Ñ€Ð°ÑÑÑ‹Ð»ÐºÐ¾Ð¹ Ð² Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ (ÐµÑÐ»Ð¸ Ð¿Ð°Ñ€Ñ‹ ÐµÑÑ‚ÑŒ)
- ÐŸÑ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÑ‚ÑŒ **Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ñƒ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ðµ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹** Ð´Ð»Ñ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ñ ÑÐµÑ€Ð²ÐµÑ€Ð° Ð¸ Ð±Ð¾Ñ‚Ð°

ðŸ“º Ð”Ð»Ñ Ð¿ÐµÑ€Ð²Ð¾Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ LLM Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ API Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½ ÑÐµÑ€Ð²Ð¸Ñ _io.net_ â€” Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ Ð¿Ð¾ÐºÐ°Ð·Ð°Ð½ Ð² Ð²Ð¸Ð´ÐµÐ¾: https://youtu.be/5BgVrPteZbQ

---

## âš™ï¸ Ð“Ð»Ð°Ð²Ð½Ñ‹Ðµ Ñ„Ð¸ÑˆÐºÐ¸

### 1. **Ð˜Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ñ‡Ð°Ñ‚**
- ÐžÐ±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ ÑƒÐ¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ Ð¸ Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
- Ð—Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑ‚ Ð´Ð²Ðµ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ð¿Ð°Ñ€Ñ‹ Ð²Ð¾Ð¿Ñ€Ð¾Ñâ€“Ð¾Ñ‚Ð²ÐµÑ‚ (24 Ñ‡Ð°ÑÐ°), Ð½Ðµ Ð¿ÑƒÑ‚Ð°Ñ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ñ‹ Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ð»Ð¸Ñ‡ÐµÐº; Ð² Ð³Ñ€ÑƒÐ¿Ð¿Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ Ð¾Ð±Ñ‰Ð¸Ð¹
- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð²Ð½ÐµÑˆÐ½ÑŽÑŽ LLM Ð´Ð»Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð², Ñ Ð²ÐµÐ¶Ð»Ð¸Ð²Ñ‹Ð¼ Ñ„Ð¾Ð»Ð±ÑÐºÐ¾Ð¼ Ð¸ Ð°Ð»ÐµÑ€Ñ‚Ð¾Ð¼ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ñƒ Ð¿Ñ€Ð¸ ÑÐ±Ð¾ÑÑ…

### 2. **ÐŸÐ»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸Ðº Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ð¹**
- Ð§Ð¸Ñ‚Ð°ÐµÑ‚ `data/birthdays.json` Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ Ð² Ð·Ð°Ð´Ð°Ð½Ð½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ ÑˆÐ»Ñ‘Ñ‚ Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð² Ð±ÐµÑÐµÐ´Ñƒ (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐµÑÐ»Ð¸ ÑÐµÐ³Ð¾Ð´Ð½Ñ ÐµÑÑ‚ÑŒ Ð¸Ð¼ÐµÐ½Ð¸Ð½Ð½Ð¸ÐºÐ¸); Ð¿Ð¾ÑÐ»Ðµ Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ð¸ÑˆÐµÑ‚ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ñƒ, ÐºÑ‚Ð¾ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ð¸Ð¼ÐµÐ½Ð¸Ð½Ð½Ð¸Ðº
- Ð˜ÑÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ð´ÑƒÐ±Ð»Ð¸ Ð² Ð¾Ð´Ð¸Ð½ Ð´ÐµÐ½ÑŒ Ñ‡ÐµÑ€ÐµÐ· ÐºÐµÑˆ-Ñ„Ð°Ð¹Ð»
- ÐŸÐ¾Ð·Ð´Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ð¸Ð¼ÐµÐ½Ð¸Ð½Ð½Ð¸ÐºÐ¾Ð² Ð¿Ð¾ ÑˆÐ°Ð±Ð»Ð¾Ð½Ñƒ Ð¸Ð· `.env`
- ÐŸÑ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ Ð±Ð¾Ñ‚Ð° Ð¿Ñ€Ð¸ÑÑ‹Ð»Ð°ÐµÑ‚ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ñƒ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð¾ Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐµÐ¼ Ð´Ð½Ðµ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ

### 3. **Ð Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¿Ð°Ñ€ (ICS)**
- ÐŸÐ°Ñ€ÑÐ¸Ñ‚ Ð²ÑÐµ `data/calendar*.ics` Ð¿Ñ€Ð¸ ÑÑ‚Ð°Ñ€Ñ‚Ðµ, ÐºÐµÑˆÐ¸Ñ€ÑƒÐµÑ‚ Ð² `data/cache/schedule_cache.json`
- ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Â«Ð¿Ð°Ñ€Ñ‹Â» / Â«Ð¿Ð°Ñ€Ñ‹ Ð·Ð°Ð²Ñ‚Ñ€Ð°Â» (Ð² Ð³Ñ€ÑƒÐ¿Ð¿Ðµ, Ð¿Ñ€Ð¸ ÑƒÐ¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ð¸ Ð±Ð¾Ñ‚Ð° Ð¸Ð»Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚Ðµ; Ð² Ð›Ð¡ â€” Ð´Ð»Ñ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð° Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð¸Ð· ÑÐ¿Ð¸ÑÐºÐ° Ð´Ð½ÐµÐ¹ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ)
- Ð•Ð¶ÐµÐ´Ð½ÐµÐ²Ð½Ð°Ñ Ñ€Ð°ÑÑÑ‹Ð»ÐºÐ° Ð¿Ð°Ñ€ Ð½Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ Ð² 08:00, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐµÑÐ»Ð¸ Ð¿Ð°Ñ€Ñ‹ ÐµÑÑ‚ÑŒ

### 4. **ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿**
- Ð•Ð´Ð¸Ð½Ð°Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð° ÐºÐ¾Ð¼Ð°Ð½Ð´ Ñ ÑƒÑ€Ð¾Ð²Ð½ÑÐ¼Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° (ÑÐ¼. Ñ€Ð°Ð·Ð´ÐµÐ» Â«ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹Â»)
- Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ñƒ Ð¾ ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸ÑÑ…

### 5. **Ð“Ð¸Ð±ÐºÐ°Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· `.env`**
- Ð’ÑÐµ Ñ‚Ð¾ÐºÐµÐ½Ñ‹ Ð¸ ÐºÐ»ÑŽÑ‡Ð¸ Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ Ð² Ð¾Ð´Ð½Ð¾Ð¼ Ñ„Ð°Ð¹Ð»Ðµ
- ÐŸÑ€Ð¾Ð¼Ð¿Ñ‚Ñ‹ Ð´Ð»Ñ Ñ‡Ð°Ñ‚Ð° Ð¸ Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ð¹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð±ÐµÐ· Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÐºÐ¾Ð´Ð°
- Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð´Ð»Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹

---

## ðŸŽ¯ ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸

- **Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ** - Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ñ‹Ðµ Ð»Ð¾Ð³Ð¸ Ð²ÑÐµÑ… Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹
- **ÐšÐ¾Ð½Ñ‚ÐµÐºÑÑ‚** - Ð·Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ñ… Ð´Ð¸Ð°Ð»Ð¾Ð³Ð¾Ð² (2 Ð¿Ð°Ñ€Ñ‹ Ð·Ð° 24 Ñ‡Ð°ÑÐ°)
- **Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð°** - Ð°Ð»ÐµÑ€Ñ‚Ñ‹ Ð¾ Ð½Ð¾Ð²Ñ‹Ñ… /start Ð¸ Ð¾ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚Ð¸ LLM
- **Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ** - Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð¿Ñ€Ð°Ð² Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ð´Ð»Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð°

---

## ðŸ”§ ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹

Ð“Ñ€ÑƒÐ¿Ð¿Ñ‹ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°: 
- ðŸŒ Ð²ÑÐµ; 
- ðŸ—¿ Ð²Ð»Ð°Ð´ÐµÐ»ÐµÑ†; 
- ðŸŽ“ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸ Ð² Ð±ÐµÑÐµÐ´Ðµ; 
- ðŸŽ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Ð¸Ð· `birthdays.json`; 
- ðŸ”’ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð›Ð¡.

| ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° | ÐšÑ‚Ð¾ Ð¼Ð¾Ð¶ÐµÑ‚ Ð²Ð¾ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒÑÑ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|:-------:|:-------------------------:|:------:|
| `help` / `ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹` | ðŸŒ | Ð¡Ð¿Ñ€Ð°Ð²ÐºÐ° Ð¿Ð¾ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°Ð¼ Ð±Ð¾Ñ‚Ð° |
| `Ð¾Ñ‚Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ` | ðŸŒ   ðŸ”’ | ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ |
| `Ð´Ñ€` | ðŸŽ“   ðŸŽ‚   ðŸ—¿ | Ð‘Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐ¸Ð¹ Ð´ÐµÐ½ÑŒ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ |
| `Ð´Ñ€ 12345` / `Ð´Ñ€ @username` | ðŸŽ“   ðŸŽ‚   ðŸ—¿ | Ð”Ð°Ñ‚Ð° Ð´Ð½Ñ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ Ð¿Ð¾ id Ð¸Ð»Ð¸ username |
| `Ð¿Ð°Ñ€Ñ‹` | ðŸŽ“   ðŸŽ‚   ðŸ—¿ | ÐŸÐ°Ñ€Ñ‹ Ð½Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ |
| `Ð¿Ð°Ñ€Ñ‹ Ð·Ð°Ð²Ñ‚Ñ€Ð°` | ðŸŽ“   ðŸŽ‚   ðŸ—¿ | ÐŸÐ°Ñ€Ñ‹ Ð½Ð° Ð·Ð°Ð²Ñ‚Ñ€Ð° |
| `logs` | ðŸ—¿ | Ð›Ð¾Ð³Ð¸ Ð±Ð¾Ñ‚Ð° (PM, GR, FP) |
| `full logs` | ðŸ—¿ | ÐŸÐ¾Ð»Ð½Ñ‹Ðµ Ð»Ð¾Ð³Ð¸ Ð±Ð¾Ñ‚Ð° |
| `status` | ðŸ—¿ | Ð¡Ñ‚Ð°Ñ‚ÑƒÑ ÑÐ»ÑƒÐ¶Ð±Ñ‹ Ð±Ð¾Ñ‚Ð° |
| `system` | ðŸ—¿ | Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ |
| `stop bot` | ðŸ—¿ | ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð±Ð¾Ñ‚Ð° |
| `Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑÑ‹Ð»Ð¾Ðº` | ðŸ—¿ | Ð”Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ° ÑÑÑ‹Ð»Ð¾Ðº Ð¸ Ð°ÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ |

* Ð’ Ð±ÐµÑÐµÐ´Ðµ Ð½ÑƒÐ¶Ð½Ð¾ ÑƒÐ¿Ð¾Ð¼ÑÐ½ÑƒÑ‚ÑŒ Ð±Ð¾Ñ‚Ð° Ð¸Ð»Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚Ð¸Ñ‚ÑŒ Ð½Ð° ÐµÐ³Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ.
* Ð’ Ð›Ð¡ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹, ÐºÑ€Ð¾Ð¼Ðµ `help`/`ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹`, Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ñƒ Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼ Ð¸Ð· `data/birthdays.json`.
* Ð§Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ, Ð°ÐºÑ‚Ð¸Ð²Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð±Ð¾Ñ‚Ð° Ð² Ð›Ð¡ (Ð½Ð°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð»ÑŽÐ±Ð¾Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ).
* Ð”Ð»Ñ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ð¹ Ð°ÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾ÑÐ»Ðµ Ð¾Ñ‚Ð¿Ð¸ÑÐºÐ¸ ÑÐ½Ð¾Ð²Ð° Ð½Ð°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð±Ð¾Ñ‚Ñƒ Ð»ÑŽÐ±Ð¾Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ.

---

## ðŸ“ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```
OurMate_bot/
â”œâ”€â”€ src/                              # ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ ÐºÐ¾Ð´ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
â”‚   â”œâ”€â”€ bot/                          # Ð›Ð¾Ð³Ð¸ÐºÐ° Telegram Ð±Ð¾Ñ‚Ð°
â”‚   â”‚   â”œâ”€â”€ handlers/                 # ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
â”‚   â”‚   â”‚   â”œâ”€â”€ chat.py               # ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
â”‚   â”‚   â”‚   â”œâ”€â”€ commands.py           # ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÐºÐ¾Ð¼Ð°Ð½Ð´ (/start)
â”‚   â”‚   â”‚   â””â”€â”€ owner_commands.py     # ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð°
â”‚   â”‚   â”œâ”€â”€ services/                 # Ð‘Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ°
â”‚   â”‚   â”‚   â”œâ”€â”€ llm_service.py        # Ð Ð°Ð±Ð¾Ñ‚Ð° Ñ LLM API
â”‚   â”‚   â”‚   â”œâ”€â”€ birthday_service.py   # Ð›Ð¾Ð³Ð¸ÐºÐ° Ð´Ð½ÐµÐ¹ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ
â”‚   â”‚   â”‚   â”œâ”€â”€ schedule_service.py   # ÐŸÐ°Ñ€ÑÐ¸Ð½Ð³ Ð¸ ÐºÐµÑˆ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ñ
â”‚   â”‚   â”‚   â”œâ”€â”€ context_service.py    # Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð¾Ð¼
â”‚   â”‚   â”‚   â””â”€â”€ system_service.py     # Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹
â”‚   â”‚   â””â”€â”€ scheduler/                # ÐŸÐ»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸Ðº Ð·Ð°Ð´Ð°Ñ‡
â”‚   â”‚       â”œâ”€â”€ birthday_scheduler.py # ÐŸÐ»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸Ðº Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ð¹
â”‚   â”‚       â””â”€â”€ schedule_scheduler.py # ÐŸÐ»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸Ðº Ñ€Ð°ÑÑÑ‹Ð»ÐºÐ¸ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ñ
â”‚   â”œâ”€â”€ models/                       # ÐœÐ¾Ð´ÐµÐ»Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…
â”‚   â”‚   â””â”€â”€ user.py                   # ÐœÐ¾Ð´ÐµÐ»ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
â”‚   â”œâ”€â”€ utils/                        # Ð’ÑÐ¿Ð¾Ð¼Ð¾Ð³Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
â”‚   â”‚   â”œâ”€â”€ date_utils.py             # Ð Ð°Ð±Ð¾Ñ‚Ð° Ñ Ð´Ð°Ñ‚Ð°Ð¼Ð¸
â”‚   â”‚   â””â”€â”€ text_utils.py             # Ð Ð°Ð±Ð¾Ñ‚Ð° Ñ Ñ‚ÐµÐºÑÑ‚Ð¾Ð¼
â”‚   â””â”€â”€ config/                       # ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ
â”‚       â””â”€â”€ settings.py               # ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
â”œâ”€â”€ data/                             # Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
â”‚   â”œâ”€â”€ birthdays.json                # Ð¤Ð°Ð¹Ð» Ñ Ð´Ð½ÑÐ¼Ð¸ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ
â”‚   â”œâ”€â”€ calendar*.ics                 # (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾) Ñ„Ð°Ð¹Ð»Ñ‹ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ñ
â”‚   â””â”€â”€ cache/                        # ÐšÐµÑˆ
â”‚       â”œâ”€â”€ last_birthday_greeting.txt
â”‚       â””â”€â”€ schedule_cache.json
â”œâ”€â”€ main.py                           # Ð¢Ð¾Ñ‡ÐºÐ° Ð²Ñ…Ð¾Ð´Ð°
â”œâ”€â”€ requirements.txt                  # Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Python
â”œâ”€â”€ .env                              # ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ
â””â”€â”€ README.md                         # Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
```

---

## ðŸš€ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð¸ Ð·Ð°Ð¿ÑƒÑÐº

### 1. **ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹**
```bash
git clone https://github.com/Naz1anmak/OurMate.git
cd OurMate
```

### 2. **Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¸ Ð°ÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ**
```bash
# macOS/Linux
python3 -m venv venv
source venv/bin/activate

# Windows (PowerShell)
# python -m venv venv
# .\venv\Scripts\Activate.ps1

pip install -r requirements.txt
```

### 3. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ `.env`**

Ð’ ÐºÐ¾Ñ€Ð½Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ñ„Ð°Ð¹Ð» `.env` Ð¸ Ð´Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ (Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð½Ð° ÑÐ²Ð¾Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ):

```ini
# Telegram Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
BOT_TOKEN=123456789:AAâ€¦         # Ñ‚Ð¾ÐºÐµÐ½ Ð²Ð°ÑˆÐµÐ³Ð¾ Telegram-Ð±Ð¾Ñ‚Ð°
OWNER_CHAT_ID=987654321         # Ð²Ð°Ñˆ Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ chat_id
CHAT_ID=-1001234567890          # chat_id Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ Ð´Ð»Ñ Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ð¹

# LLM API Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
MODEL=deepseek-ai/DeepSeek-R1-0528
LLM_API_KEY=io-v2-â€¦             # ÐºÐ»ÑŽÑ‡ LLM API

# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð´Ð½ÐµÐ¹ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ
BIRTHDAYS_FILE=data/birthdays.json
LAST_BIRTHDAY_GREETING_FILE=data/cache/last_birthday_greeting.txt

# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ñ Ð´Ð½ÐµÐ¹ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ
TIMEZONE=Europe/Moscow          # Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ð¹
SEND_HOUR=10
SEND_MINUTE=0

# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ñ Ð¿Ð°Ñ€
SCHEDULE_FILES_PATTERN=data/calendar*.ics
SCHEDULE_CACHE_FILE=data/cache/schedule_cache.json
SCHEDULE_SEND_HOUR=8
SCHEDULE_SEND_MINUTE=0

# ÐŸÑ€Ð¾Ð¼Ð¿Ñ‚Ñ‹
# Ð¿Ñ€Ð¾Ð¼Ð¿Ñ‚ Ð´Ð»Ñ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² Ð² Ð»Ñ Ð¸ Ð±ÐµÑÐµÐ´Ðµ
PROMPT_TEMPLATE_CHAT='Ð¢Ñ‹ â€” Ð±Ð¾Ñ‚, Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÑŽÑ‰Ð¸Ð¹â€¦'         
# Ð¿Ñ€Ð¾Ð¼Ð¿Ñ‚ Ð´Ð»Ñ Ð´ÐµÐ¹ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ñ… ÑƒÑ‡Ð°Ñ‰Ð¸Ñ…ÑÑ 
PROMPT_TEMPLATE_BIRTHDAY_ACTIVE='ÐŸÐ¾Ð·Ð´Ñ€Ð°Ð²ÑŒ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‚Ð¾Ð² {mentions}â€¦'  
# Ð¿Ñ€Ð¾Ð¼Ð¿Ñ‚ Ð´Ð»Ñ Ð¾Ñ‚Ñ‡Ð¸ÑÐ»ÐµÐ½Ð½Ñ‹Ñ… (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð±ÐµÑ€Ñ‘Ñ‚ ACTIVE)
PROMPT_TEMPLATE_BIRTHDAY_FORMER='ÐŸÐ¾Ð·Ð´Ñ€Ð°Ð²ÑŒ Ð¾Ñ‚Ñ‡Ð¸ÑÐ»ÐµÐ½Ð½Ñ‹Ñ… {mentions}â€¦'          

# ÐžÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ
ENV=prod        # prod: Ð¼ÐµÐ½ÑŒÑˆÐµ Ð»Ð¾Ð³Ð¾Ð² aiogram.event + Ð±ÐµÐ· Ñ‚Ð°Ð¹Ð¼ÑÑ‚ÐµÐ¼Ð¿Ð° Ð² Ð½Ð°ÑˆÐ¸Ñ… print-Ð»Ð¾Ð³Ð°Ñ…
```

### 4. **ÐŸÑ€Ð¸Ð¼ÐµÑ€ `data/birthdays.json`**

Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° JSON-Ñ„Ð°Ð¹Ð»Ð° Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼Ð¸:

```json
{
    "users": [
        {
            "user_id": 123456789,
            "name": "ÐÐ½Ð°ÑÑ‚Ð°ÑÐ¸Ñ Ð˜Ð»ÑŒÐ¸Ð½Ð¸Ñ‡Ð½Ð°",
            "last_name": "ÐÐ»Ð»ÐµÐ½Ð¾Ð²Ð°",
            "birthday": "30.12",
            "status": "active",
            "interacted_with_bot": false,
            "username": "example_user"
        },
        {
            "user_id": 987654321,
            "name": "Ð˜Ð²Ð°Ð½ ÐŸÐµÑ‚Ñ€Ð¾Ð²Ð¸Ñ‡",
            "last_name": "ÐŸÐµÑ‚Ñ€Ð¾Ð²",
            "birthday": "10.7",
            "status": "-",
            "interacted_with_bot": false
        }
    ]
}
```

**ÐŸÐ¾Ð»Ñ:**
- `user_id` (int Ð¸Ð»Ð¸ null) â€” Telegram user_id Ð´Ð»Ñ ÑƒÐ¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ð¹ Ð¸ Ð³Ð¸Ð¿ÐµÑ€ÑÑÑ‹Ð»Ð¾Ðº
- `name` (str) â€” Ð˜Ð¼Ñ Ð¸ Ð¾Ñ‚Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
- `last_name` (str) â€” Ð¤Ð°Ð¼Ð¸Ð»Ð¸Ñ (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð½Ð¾ÑÑ‚Ð¸)
- `birthday` (str) â€” Ð”Ð°Ñ‚Ð° Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ "D.M" Ð¸Ð»Ð¸ "DD.MM"
- `status` (str) â€” Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: "active" (Ð´ÐµÐ¹ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‚) Ð¸Ð»Ð¸ "-" (Ð¾Ñ‚Ñ‡Ð¸ÑÐ»ÐµÐ½Ð½Ñ‹Ð¹)
- `interacted_with_bot` (bool) â€” ÐÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð» Ð»Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð±Ð¾Ñ‚Ð° (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ false)
- `username` (str, Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾) â€” Telegram username (Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ñ€Ð¸ ÑÑ‚Ð°Ñ€Ñ‚Ðµ Ð±Ð¾Ñ‚Ð°)

**Ð’Ð°Ð¶Ð½Ð¾ Ð¾Ð± Ð°ÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ð¸:**

Ð§Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ð» Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð² Ð±ÐµÑÐµÐ´Ðµ Ñ Ð³Ð¸Ð¿ÐµÑ€ÑÑÑ‹Ð»ÐºÐ¾Ð¹ Ð½Ð° ÐµÐ³Ð¾ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ, Ð¾Ð½ Ð´Ð¾Ð»Ð¶ÐµÐ½ **Ð°ÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð±Ð¾Ñ‚Ð°**:
1. ÐÐ°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð±Ð¾Ñ‚Ñƒ /start Ð² Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
2. ÐŸÐ¾ÑÐ»Ðµ ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ð¾Ð»Ðµ `interacted_with_bot` Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÑ‚Ð°Ð½ÐµÑ‚ `true`
3. ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‚ LLM Ð² Ð±ÐµÑÐµÐ´Ðµ

Ð•ÑÐ»Ð¸ `interacted_with_bot = false`, Ð±Ð¾Ñ‚ **Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ** ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð² Ð±ÐµÑÐµÐ´Ðµ.

**ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° Ð´Ð»Ñ Ð¾Ñ‚Ð¿Ð¸ÑÐºÐ¸:**
- ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð¼Ð¾Ð¶ÐµÑ‚ Ð² Ð»ÑŽÐ±Ð¾Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ Ð¾Ñ‚Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ð¾Ð·Ð´Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ð¹, Ð½Ð°Ð¿Ð¸ÑÐ°Ð² Ð±Ð¾Ñ‚Ñƒ `Ð¾Ñ‚Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ` Ð² Ð›Ð¡
- Ð”Ð»Ñ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ð¹ Ð°ÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ð¸ Ð½ÑƒÐ¶Ð½Ð¾ ÑÐ½Ð¾Ð²Ð° Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð±Ð¾Ñ‚Ñƒ

### 5. **Ð Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ (ICS)**

Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸ Ð² `data/` Ñ„Ð°Ð¹Ð»Ñ‹ `calendar.ics`, `calendar-2.ics` Ð¸ Ñ‚.Ð¿. (ÑˆÐ°Ð±Ð»Ð¾Ð½ `calendar*.ics`).
ÐŸÑ€Ð¸ ÑÑ‚Ð°Ñ€Ñ‚Ðµ Ð¿Ð°Ñ€ÑÑÑ‚ÑÑ Ð²ÑÐµ Ñ„Ð°Ð¹Ð»Ñ‹ Ð¸ ÐºÐµÑˆÐ¸Ñ€ÑƒÑŽÑ‚ÑÑ Ð² `data/cache/schedule_cache.json`.

### 6. **Ð—Ð°Ð¿ÑƒÑÐº Ð±Ð¾Ñ‚Ð°**
```bash
source venv/bin/activate
python main.py
```

---

## ðŸ“‹ Ð¢Ð¸Ð¿Ñ‹ Ð»Ð¾Ð³Ð¾Ð²

- **PM** - Personal Message (Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ)
- **GR** - Group Reply (Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð² Ð³Ñ€ÑƒÐ¿Ð¿Ðµ)
- **FP** - First Ping (ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ `/start`)

---

## ðŸ§¾ Ð Ð°Ð±Ð¾Ñ‚Ð° Ñ Ð»Ð¾Ð³Ð°Ð¼Ð¸ (Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ)

- Ð’ `logs` Ð¸ `full logs` ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ñ Ð¼Ð°Ñ€ÐºÐµÑ€Ð°Ð¼Ð¸ ÑÐ½Ð°Ð±Ð¶ÐµÐ½Ñ‹ Ð¿Ñ€ÐµÑ„Ð¸ÐºÑÐ°Ð¼Ð¸â€‘Ð¸Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€Ð°Ð¼Ð¸:
  - `PM;` â€” ðŸ”´, `GR;` â€” ðŸŸ¡, `FP;` â€” ðŸŸ¢
- Ð’ `full logs` Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð²Ð°Ð¶Ð½Ñ‹Ðµ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½Ð¾ Ð¿Ñ€Ð¾Ñ‰Ðµ Ð²Ñ‹Ð´ÐµÐ»ÑÑŽÑ‚ÑÑ, Ð° Ð²Ñ‹Ð²Ð¾Ð´ Ð¾Ð±Ñ€ÐµÐ·Ð°ÐµÑ‚ÑÑ Ñ ÐºÐ¾Ð½Ñ†Ð°
- Ð”Ð»Ð¸Ð½Ð½Ñ‹Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ Ð¾Ð±Ñ€ÐµÐ·Ð°ÑŽÑ‚ÑÑ Ñ ÐºÐ¾Ð½Ñ†Ð° (Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ ÑÐ°Ð¼Ñ‹Ð¹ ÑÐ²ÐµÐ¶Ð¸Ð¹ Ñ„Ñ€Ð°Ð³Ð¼ÐµÐ½Ñ‚) Ñ Ð¾Ñ‚Ð¼ÐµÑ‚ÐºÐ¾Ð¹ Ð¾ truncation
- Ð’ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ñ… ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°Ñ… Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ `--no-pager`, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¸ÑÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÑŽÑ‰Ð¸Ðµ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸ Ð¸Ð· Ð²Ñ‹Ð²Ð¾Ð´Ð°

---

## ðŸ›¡ï¸ Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ

- ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ð¾Ð³Ð¾ `OWNER_CHAT_ID`
- Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ (`logs`, `full logs`, `status`, `system`, `stop bot`) Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑŽÑ‚ÑÑ Ñ Ñ‚Ð°Ð¹Ð¼Ð°ÑƒÑ‚Ð¾Ð¼ 30 ÑÐµÐºÑƒÐ½Ð´
- ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð´Ð»Ð¸Ð½Ñ‹ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² (4000 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²)
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ‚Ð¸Ð¿Ð¾Ð² Ñ‡Ð°Ñ‚Ð¾Ð²: ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ð² Ð›Ð¡ Ð¸ Ð³Ñ€ÑƒÐ¿Ð¿Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ñƒ; Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð² Ð›Ð¡ â€” Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð° Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð¸Ð· `birthdays.json`

---

## ðŸ”„ Ð Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ

### Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð¸ systemd-ÑÐµÑ€Ð²Ð¸Ñ (ÐºÑ€Ð°Ñ‚ÐºÐ¾)

1. ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ð¸ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸:
```bash
sudo apt update && sudo apt upgrade -y
sudo apt install -y python3 python3-venv python3-pip git
```

2. ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ Ð¸ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÑŒÑ‚Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ:
```bash
git clone https://github.com/Naz1anmak/OurMate.git bot && cd bot
python3 -m venv venv && source venv/bin/activate
pip install -r requirements.txt
```

3. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ .env ÑÐ¾ ÑÐ²Ð¾Ð¸Ð¼Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÐ¼Ð¸ (Ð¾Ñ€Ð¸ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÑÑÑŒ Ð½Ð° Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð¸Ð· Ñ€Ð°Ð·Ð´ÐµÐ»Ð° Â«Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÂ»).

4. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ñ„Ð°Ð¹Ð» `/etc/systemd/system/mybot.service`:
```ini
[Unit]
Description=OurMate Telegram Bot
After=network.target

[Service]
Type=simple
User=root
WorkingDirectory=/root/bot
EnvironmentFile=/root/bot/.env
ExecStart=/root/bot/venv/bin/python -u main.py
StandardOutput=journal
StandardError=journal
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

5. ÐÐºÑ‚Ð¸Ð²Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¸ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÑÐ»ÑƒÐ¶Ð±Ñƒ:
```bash
sudo systemctl daemon-reload
sudo systemctl enable mybot
sudo systemctl start mybot
```

6. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÑÑ‚Ð°Ñ‚ÑƒÑ:
```bash
sudo systemctl status mybot
```

### (ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾) Ð¡Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ð¶ÑƒÑ€Ð½Ð°Ð» systemd Ð¿Ð¾ÑÑ‚Ð¾ÑÐ½Ð½Ñ‹Ð¼

ÐŸÐ¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð½Ð° Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ñ… Ð»Ð¾Ð³Ð¸ `systemd-journald` Ð¼Ð¾Ð³ÑƒÑ‚ Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð² Ð¿Ð°Ð¼ÑÑ‚Ð¸ Ð¸ Ñ‚ÐµÑ€ÑÑ‚ÑŒÑÑ Ð¿Ð¾ÑÐ»Ðµ Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸. Ð§Ñ‚Ð¾Ð±Ñ‹ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð° `logs`/`full logs` Ð¸Ð¼ÐµÐ»Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸ Ð¿Ð¾ÑÐ»Ðµ Ñ€ÐµÑÑ‚Ð°Ñ€Ñ‚Ð¾Ð², Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ð¿Ð¾ÑÑ‚Ð¾ÑÐ½Ð½Ð¾Ðµ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¶ÑƒÑ€Ð½Ð°Ð»Ð°:

```bash
# Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ð¼ ÐºÐ°Ñ‚Ð°Ð»Ð¾Ð³ Ð´Ð»Ñ Ð¿Ð¾ÑÑ‚Ð¾ÑÐ½Ð½Ð¾Ð³Ð¾ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ
sudo mkdir -p /var/log/journal
sudo systemd-tmpfiles --create --prefix /var/log/journal

# Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ ÐºÐ¾Ð½Ñ„Ð¸Ð³ journald
sudo mkdir -p /etc/systemd/journald.conf.d
sudo tee /etc/systemd/journald.conf.d/00-custom.conf > /dev/null << 'EOF'
[Journal]
Storage=persistent
SystemMaxUse=300M
SystemMaxFileSize=50M
RateLimitIntervalSec=30
RateLimitBurst=10000
EOF

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ journald
sudo systemctl restart systemd-journald
```

ÐŸÐ¾ÑÐ»Ðµ ÑÑ‚Ð¾Ð³Ð¾ `journalctl -u mybot` Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ Ð»Ð¾Ð³Ð¾Ð² Ð¼ÐµÐ¶Ð´Ñƒ Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°Ð¼Ð¸.

---